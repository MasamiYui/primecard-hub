<!--pages/index/index.wxml-->
<view class="container">
  <!-- 加载中 -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading">
      <view class="loading-spinner"></view>
      <view class="loading-text">加载中...</view>
    </view>
  </view>

  <!-- 内容区域 -->
  <view class="content" wx:else>
    <!-- 轮播图 -->
    <swiper class="banner" indicator-dots="true" autoplay="true" interval="3000" duration="500" circular="true">
      <block wx:for="{{banners}}" wx:key="id">
        <swiper-item>
          <image src="{{item.imageUrl}}" class="banner-image" mode="aspectFill" bindtap="onBannerTap" data-url="{{item.linkUrl}}"></image>
        </swiper-item>
      </block>
    </swiper>

    <!-- 快捷入口 -->
    <view class="quick-nav">
      <view class="quick-nav-item" bindtap="onMoreNewsTap">
        <view class="quick-nav-icon news-icon"></view>
        <view class="quick-nav-text">资讯</view>
      </view>
      <view class="quick-nav-item" bindtap="onMoreCardsTap">
        <view class="quick-nav-icon card-icon"></view>
        <view class="quick-nav-text">信用卡</view>
      </view>
      <view class="quick-nav-item" bindtap="onMoreCardsTap">
        <view class="quick-nav-icon apply-icon"></view>
        <view class="quick-nav-text">申请</view>
      </view>
      <view class="quick-nav-item" bindtap="onMoreCardsTap">
        <view class="quick-nav-icon compare-icon"></view>
        <view class="quick-nav-text">对比</view>
      </view>
    </view>

    <!-- 最新资讯 -->
    <view class="section">
      <view class="section-header">
        <view class="section-title">最新资讯</view>
        <view class="section-more" bindtap="onMoreNewsTap">查看更多</view>
      </view>
      <view class="news-list">
        <view class="news-item" wx:for="{{newsList}}" wx:key="id" bindtap="onNewsItemTap" data-id="{{item.id}}">
          <image class="news-image" src="{{item.coverImage}}" mode="aspectFill"></image>
          <view class="news-content">
            <view class="news-title ellipsis-2">{{item.title}}</view>
            <view class="news-summary ellipsis-2">{{item.summary}}</view>
            <view class="news-meta">
              <view class="news-date">{{item.publishedAt}}</view>
              <view class="news-stats">
                <view class="news-views">{{item.viewCount}} 阅读</view>
                <view class="news-likes">{{item.likeCount}} 点赞</view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- 热门信用卡 -->
    <view class="section">
      <view class="section-header">
        <view class="section-title">热门信用卡</view>
        <view class="section-more" bindtap="onMoreCardsTap">查看更多</view>
      </view>
      <view class="card-list">
        <view class="card-item" wx:for="{{cardList}}" wx:key="id" bindtap="onCardItemTap" data-id="{{item.id}}">
          <view class="card-header">
            <image class="bank-logo" src="{{item.bankLogo}}" mode="aspectFit"></image>
            <view class="card-info">
              <view class="card-name">{{item.cardName}}</view>
              <view class="bank-name">{{item.bankName}}</view>
            </view>
          </view>
          <image class="card-image" src="{{item.cardImage}}" mode="aspectFill"></image>
          <view class="card-footer">
            <view class="card-type">{{item.cardType}}</view>
            <view class="card-annual-fee">年费：{{item.annualFee}}</view>
          </view>
          <view class="card-features">
            <view class="tag tag-blue" wx:for="{{item.features}}" wx:key="*this" wx:for-item="feature">{{feature}}</view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>