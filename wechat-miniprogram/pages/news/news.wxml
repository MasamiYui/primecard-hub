<!-- pages/news/news.wxml -->
<view class="container">
  <!-- 分类选择 -->
  <scroll-view scroll-x class="category-scroll">
    <view class="category-list">
      <view 
        wx:for="{{categories}}" 
        wx:key="id" 
        class="category-item {{currentCategory === item.id ? 'active' : ''}}" 
        bindtap="onCategoryTap" 
        data-id="{{item.id}}"
      >
        {{item.name}}
      </view>
    </view>
  </scroll-view>
  
  <!-- 资讯列表 -->
  <view class="news-list">
    <block wx:if="{{newsList.length > 0}}">
      <view 
        wx:for="{{newsList}}" 
        wx:key="id" 
        class="news-item" 
        bindtap="onNewsItemTap" 
        data-id="{{item.id}}"
      >
        <view class="news-content">
          <view class="news-title">{{item.title}}</view>
          <view class="news-summary">{{item.summary}}</view>
          <view class="news-meta">
            <view class="news-category">{{item.categoryName}}</view>
            <view class="news-date">{{item.publishedAt}}</view>
            <view class="news-stats">
              <text class="news-views">{{item.viewCount}} 阅读</text>
              <text class="news-likes">{{item.likeCount}} 点赞</text>
            </view>
          </view>
        </view>
        <image class="news-image" src="{{item.coverImage}}" mode="aspectFill" lazy-load></image>
      </view>
    </block>
    
    <!-- 空状态 -->
    <view wx:if="{{!loading && newsList.length === 0}}" class="empty-state">
      <image class="empty-image" src="/images/empty.png" mode="aspectFit"></image>
      <view class="empty-text">暂无相关资讯</view>
    </view>
    
    <!-- 加载状态 -->
    <view wx:if="{{loading}}" class="loading-state">
      <view class="loading-spinner"></view>
      <view class="loading-text">加载中...</view>
    </view>
    
    <!-- 加载更多 -->
    <view wx:if="{{!loading && hasMore}}" class="load-more">上拉加载更多</view>
    <view wx:if="{{!loading && !hasMore && newsList.length > 0}}" class="no-more">没有更多内容了</view>
  </view>
</view>